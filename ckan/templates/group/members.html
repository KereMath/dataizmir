{% extends "group/edit_base.html" %}

{% block subtitle %}{{ _('Members') }} {{ g.template_title_delimiter }} {{ group_dict.display_name }} {{ g.template_title_delimiter }} {{ _('Groups') }}{% endblock %}

{% block page_primary_action %}
  {# `link_for` yerine manuel olarak stil verilebilen `<a>` etiketi kullanıldı #}
  <a href="{{ h.url_for(group_type+'.member_new', id=group_dict.id) }}" 
     style="display: inline-block; background: #E67E22; color: #1a2531; padding: 10px 20px; text-decoration: none; font-family: 'Segoe UI', 'Roboto', sans-serif; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; border: none;">
    <i class="fa fa-plus-square" style="margin-right: 8px;"></i>{{ _('Add Member') }}
  </a>
{% endblock %}

{% block primary_content_inner %}
  <h3 class="page-heading" 
      style="color: #333; font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif; font-size: 24px; font-weight: 300; letter-spacing: 1px; border-bottom: 1px solid #e0e0e0; padding-bottom: 15px; margin-bottom: 25px;">
    {{ _('{0} members'.format(members|length)) }}
  </h3>

  <div style="background: #2c3e50; padding: 2px; clip-path: polygon(0 0, 100% 0, 100% calc(100% - 15px), calc(100% - 15px) 100%, 0 100%);">
    <table class="table table-header table-hover table-bordered" id="member-table" 
           style="width: 100%; border-collapse: collapse; background: #34495e;">
      <thead style="background-color: #2c3e50;">
        <tr>
          <th style="color: #E67E22; padding: 15px 20px; text-align: left; font-family: 'Segoe UI', 'Roboto', sans-serif; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; border-bottom: 2px solid #E67E22;">{{ _('User') }}</th>
          <th style="color: #E67E22; padding: 15px 20px; text-align: left; font-family: 'Segoe UI', 'Roboto', sans-serif; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; border-bottom: 2px solid #E67E22;">{{ _('Role') }}</th>
          <th style="border-bottom: 2px solid #E67E22;"></th>
        </tr>
      </thead>
      <tbody>
        {% for user_id, user, role in members %}
        <tr style="border-bottom: 1px solid #2c3e50;">
          <td class="media" style="padding: 15px 20px; vertical-align: middle;">
            <a href="/user/{{ user_id }}" style="color: #ecf0f1; text-decoration: none; font-family: 'Segoe UI', 'Roboto', sans-serif; font-size: 16px;">{{ h.linked_user(user_id, maxlength=20, plain=True) }}</a>
          </td>
          <td style="padding: 15px 20px; vertical-align: middle; color: #bdc3c7; font-family: 'Segoe UI', 'Roboto', sans-serif;">{{ role }}</td>
          <td style="padding: 15px 20px; vertical-align: middle; text-align: right;">
            <div class="btn-group pull-right">
              <a class="btn btn-default btn-sm" href="{{ h.url_for(group_type + '.member_new', id=group_dict.id, user=user_id) }}" title="{{ _('Edit') }}"
                 style="display: inline-block; padding: 5px 12px; border: 1px solid #7f8c8d; color: #bdc3c7; text-decoration: none; margin-right: 5px;">
                <i class="fa fa-wrench"></i>
              </a>
              <a class="btn btn-danger btn-sm" href="{{ h.url_for(group_type + '.member_delete', id=group_dict.id, user=user_id) }}" data-module="confirm-action" data-module-content="{{ _('Are you sure you want to delete this member?') }}" title="{{ _('Delete') }}"
                 style="display: inline-block; padding: 5px 12px; border: 1px solid #c0392b; color: #c0392b; text-decoration: none;">
                {% block delete_button_text %}<i class="fa fa-times"></i>{% endblock %}
              </a>
            </div>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}